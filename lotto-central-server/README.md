# lotto-central-server

시스템의 중심 서버입니다.

**포트:** 8100  
**DB:** PostgreSQL

## 역할

회차와 추첨을 관리하고, 봇과 POS를 생성합니다.
티켓 구매를 처리하고 당첨 결과를 계산합니다.

---

## 구현 항목

### 엔티티 설계
- [ ] 회차 정보와 상태 관리
- [ ] 봇 메타데이터 관리
- [ ] POS 정보 관리
- [ ] 티켓 구매 기록
- [ ] 엔티티 간 연관관계 설정

### 회차 관리
- [ ] 회차 생성 및 조회
- [ ] 추첨 처리
- [ ] 상태 전환 로직
- [ ] 중복 추첨 방지

### 봇 관리
- [ ] 봇 생성 시 POS 자동 생성
- [ ] 트랜잭션으로 묶어서 처리
- [ ] 활성화/비활성화 제어
- [ ] 봇 조회 기능

### 티켓 관리
- [ ] 구매 요청 처리
- [ ] 회차 상태 검증
- [ ] POS 상태 검증
- [ ] 번호 유효성 검증
- [ ] 구매 이력 저장

### 당첨 계산
- [ ] 추첨 후 자동 계산
- [ ] 등수 판정 로직
- [ ] 통계 집계

### API 설계
- [ ] 회차 생성/조회/추첨 엔드포인트
- [ ] 봇 생성/조회 엔드포인트
- [ ] 티켓 구매/조회 엔드포인트
- [ ] 통계 조회 엔드포인트
- [ ] POS 비활성화 엔드포인트

---

## 테스트

### 도메인 로직
- [ ] 회차 생성 및 상태 전환
- [ ] 재추첨 방지
- [ ] 봇과 POS 동시 생성
- [ ] 번호 검증

### 영속성
- [ ] 엔티티 저장 및 조회
- [ ] 연관관계 동작 확인
- [ ] 트랜잭션 롤백

### 비즈니스 로직
- [ ] 회차 생성 플로우
- [ ] 봇 생성 플로우
- [ ] 티켓 구매 플로우
- [ ] 추첨 및 당첨 계산 플로우

### API 통합
- [ ] 각 엔드포인트 응답 확인
- [ ] 예외 상황 처리
- [ ] 상태 코드 검증

---

봇 생성할 때 POS를 함께 만드는 것이 핵심입니다.
티켓 구매는 회차와 POS 상태를 모두 확인해야 합니다.
